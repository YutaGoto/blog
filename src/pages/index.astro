---
import Layout from "../components/Layout.astro";
import { ArticleCard, TagList, Bio } from "../components"
const allPosts = await Astro.glob("../pages/posts/*/index.md")
const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())].filter(e => Boolean(e));
allPosts.reverse()
---

<html>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type ="image/svg+xml" href="/blog/favicon.ico" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content = {Astro.generator} >
    <title>.ごっちの日記</title>
  </head>
  <body>
<Layout>
  <div class="lg:flex lg:space-x-2">
    <div class="max-w-screen-2xl lg:flex-grow">
      {
        allPosts.map(post => {
          return <ArticleCard post={post} />
        })
      }
    </div>
    <div class="mb-2 lg:flex-none">
      <Bio />
      <TagList tags={tags} />
    </div>
  </div>
</Layout>
</body>
</html>
