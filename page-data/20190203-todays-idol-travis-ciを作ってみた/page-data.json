{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/20190203-todays-idol-travis-ciを作ってみた/",
    "result": {"data":{"site":{"siteMetadata":{"title":".ごっちの日記","siteUrl":"https://yutagoto.github.io"}},"markdownRemark":{"id":"05542398-da8e-5b90-bb41-0ca155bfe9c1","excerpt":"こんにちは、 .ごっちです。 以前 CircleCI の Orbs を使って、今日が誕生日のアイマスのアイドルを出力するやつを作ったのですが、それの travisci バージョンを作りました。 iM@SPARQL さまさまです..\n今日誕生日のアイドルを出力する CircleCI orb…","html":"<p>こんにちは、 .ごっちです。</p>\n<p>以前 CircleCI の Orbs を使って、今日が誕生日のアイマスのアイドルを出力するやつを作ったのですが、それの travisci バージョンを作りました。</p>\n<p>iM@SPARQL さまさまです..\n<a href=\"https://medium.com/@gggooottto/%E4%BB%8A%E6%97%A5%E8%AA%95%E7%94%9F%E6%97%A5%E3%81%AE%E3%82%A2%E3%82%A4%E3%83%89%E3%83%AB%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%99%E3%82%8Bcircleci-orb%E3%82%92%E3%81%A4%E3%81%8F%E3%81%A3%E3%81%9F%E3%81%8A%E8%A9%B1-fff413118a40\"><strong>今日誕生日のアイドルを出力する CircleCI orb をつくったお話</strong>\n*こんにちは、 .ごっちです。*medium.com</a>\n<a href=\"https://medium.com/@gggooottto/%E4%BB%8A%E6%97%A5%E8%AA%95%E7%94%9F%E6%97%A5%E3%81%AE%E3%82%A2%E3%82%A4%E3%83%89%E3%83%AB%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8Bcircleci-orb%E3%81%AB-slack%E9%80%9A%E7%9F%A5%E6%A9%9F%E8%83%BD%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E3%81%8A%E8%A9%B1-b476792eb9fc\"><strong>今日誕生日のアイドルを取得する CircleCI Orb に、Slack 通知機能を追加したお話</strong>\n*こんにちは、 .ごっちです。*medium.com</a></p>\n<p>travisci には CircleCI Orbs のような共通機構を別途管理する機能がないので、これは普通に shell を書いただけになります。</p>\n<p>リポジトリとコードは以下です。\n<a href=\"https://github.com/YutaGoto/todays-imas-idol-travis\"><strong>YutaGoto/todays-imas-idol-travis</strong>\n*Contribute to YutaGoto/todays-imas-idol-travis development by creating an account on GitHub.*github.com</a></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># .travis.yml\nlanguage: bash\nbefore_install:\n  - sudo apt-get update -qq\n  - sudo apt-get install -y curl jq\nscript:\n  - TODAY=`date +%m-%d`\n  - SPURL=\"https://sparql.crssnky.xyz/spql/imas/query?query=PREFIX%20schema%3A%20%3Chttp%3A%2F%2Fschema.org%2F%3ESELECT%20(sample(%3Fo)%20as%20%3Fdate)%20(sample(%3Fn)%20as%20%3Fname)%20WHERE%20%7B%20%3Fsub%20schema%3AbirthDate%20%3Fo%3B%20schema%3Aname%7Cschema%3AalternateName%20%3Fn%3BFILTER(regex(str(%3Fo)%2C%20%22$TODAY%22%20)).%7Dgroup%20by(%3Fn)order%20by(%3Fname)\"\n  - IDOLS=`curl -s $SPURL | jq \".results.bindings | map(.name.value)\" | jq -r 'join(\" \")'`\n  - echo $IDOLS</code></pre></div>\n<p>shell の部分は circleci orbs の部分となにも変わっていないですし、使っている機能もなにも変えていません。。。()</p>\n<p>ci の設定をする練習くらいにはなったような気がしています。</p>\n<p>ちなみに実行結果は</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/2000/1*Ke87f3KHBu7GG_Za0tXEMQ.png\" alt=\"\"></p>\n<p>こんな感じです。予想通りです。</p>\n<p>Jenkins なり Wercker なりでも動かしてみようかと思います。。</p>","fields":{"slug":"/20190203-todays-idol-travis-ciを作ってみた/"},"frontmatter":{"title":"todays-idol-travis-ciを作ってみた","date":"February 03, 2019","description":"todays-idol-travis-ciを作ってみた"}},"previous":{"fields":{"slug":"/20190201-おひとりesaとおひとりslackを運用して/"},"frontmatter":{"title":"おひとりesaとおひとりSlackを運用して"}},"next":{"fields":{"slug":"/20190212-im-sparqlをtypescriptでたたいてみる/"},"frontmatter":{"title":"im@sparqlをTypeScriptでたたいてみる"}}},"pageContext":{"id":"05542398-da8e-5b90-bb41-0ca155bfe9c1","previousPostId":"0d778b43-f1ac-57d4-8462-595f84b89688","nextPostId":"a87f6b7d-72cc-5730-b21e-34c3d4850773"}},
    "staticQueryHashes": ["2137539840","2183174749"]}